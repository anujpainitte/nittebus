<!DOCTYPE html>
<html style="font-size: 16px;" lang="en"><head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="keywords" content="Time, Next Bus, prev bus">
    <meta name="description" content="">
    <title>UDP</title>
    <link rel="stylesheet" href="nicepage.css" media="screen">
<link rel="stylesheet" href="UDP.css" media="screen">
    <script class="u-script" type="text/javascript" src="jquery.js" defer=""></script>
    <script class="u-script" type="text/javascript" src="nicepage.js" defer=""></script>
    <meta name="generator" content="Nicepage 5.4.4, nicepage.com">
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">
    <link id="u-page-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Oswald:200,300,400,500,600,700|Ubuntu:300,300i,400,400i,500,500i,700,700i|Merriweather:300,300i,400,400i,700,700i,900,900i">
    
    
    
    
    <script type="application/ld+json">{
		"@context": "http://schema.org",
		"@type": "Organization",
		"name": ""
}</script>
    <meta name="theme-color" content="#478ac9">
    <meta property="og:title" content="UDP">
    <meta property="og:type" content="website">
  <meta data-intl-tel-input-cdn-path="intlTelInput/"></head>
  <body class="u-body u-overlap u-overlap-transparent u-xl-mode" data-lang="en"><header class="u-clearfix u-header u-header" id="sec-765e"><div class="u-clearfix u-sheet u-valign-middle u-sheet-1">
        <nav class="u-menu u-menu-dropdown u-offcanvas u-offcanvas-shift u-menu-1" data-responsive-from="SM">
          <div class="menu-collapse">
            <a class="u-button-style u-custom-active-color u-custom-color u-custom-hover-color u-custom-text-active-color u-custom-text-color u-file-icon u-nav-link u-text-white u-file-icon-1" href="#">
              <img src="images/5107718-cd86cda7.png" alt="">
            </a>
          </div>
          <div class="u-nav-container">
            <ul class="u-nav u-unstyled"><li class="u-nav-item"><a class="u-active-white u-button-style u-hover-white u-nav-link u-text-active-white u-text-body-alt-color u-white" href="Home.html">Home</a>
</li><li class="u-nav-item"><a class="u-active-white u-button-style u-hover-white u-nav-link u-text-active-white u-text-body-alt-color u-white" href="MNG.html">MNG</a>
</li><li class="u-nav-item"><a class="u-active-white u-button-style u-hover-white u-nav-link u-text-active-white u-text-body-alt-color u-white" href="UDP.html">UDP</a>
</li></ul>
          </div>
          <div class="u-nav-container-collapse">
            <div class="u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav">
              <div class="u-inner-container-layout u-sidenav-overflow">
                <div class="u-menu-close"></div>
                <ul class="u-align-center u-nav u-popupmenu-items u-unstyled u-nav-2"><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Home.html">Home</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="MNG.html">MNG</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="UDP.html">UDP</a>
</li></ul>
              </div>
            </div>
            <div class="u-black u-menu-overlay u-opacity u-opacity-70"></div>
          </div>
        </nav>
      </div></header>
      <section class="u-clearfix u-section-1" id="sec-7f1c">
        <div class="u-clearfix u-sheet u-sheet-1">
          <div class="u-align-center-xs u-container-style u-expanded-width-xs u-group u-palette-5-light-3 u-group-1">
            <div class="u-container-layout u-valign-middle-xs u-container-layout-1">
              <h1 class="u-custom-font u-font-oswald u-text u-text-1" data-animation-name="" data-animation-duration="0" data-animation-direction="" div id="time"></h1>
            </div>
          </div>
          <div class="u-clearfix u-expanded-width u-layout-wrap u-layout-wrap-1">
            <div class="u-layout">
              <div class="u-layout-row">
                <div class="u-container-style u-layout-cell u-palette-5-light-2 u-shape-rectangle u-size-30 u-layout-cell-1">
                  <div class="u-container-layout u-valign-top-xs u-container-layout-2">
                    <h1 class="u-custom-font u-font-ubuntu u-text u-text-2" div id ="next-bus"></h1>
                  </div>
                </div>
                <div class="u-align-center-xs u-container-style u-layout-cell u-palette-5-dark-2 u-size-30 u-layout-cell-2">
                  <div class="u-container-layout u-valign-top-xs u-container-layout-3">
                    <h2 class="u-custom-font u-font-ubuntu u-text u-text-3" div id="prev-bus"></h2>
                  </div>
                </div>
              </div>
            </div>
          </div>
    </section>
    <section class="u-clearfix u-image u-shading u-section-2" id="sec-d745" data-image-width="480" data-image-height="480">
      <div class="u-clearfix u-sheet u-sheet-1">
        <h5 class="u-custom-font u-font-merriweather u-text u-text-default-xs u-text-1">Found Wrong timings?</h5>
        <p class="u-text u-text-default-xs u-text-2">If you find any wrong timings in the website, tell us the time when you spot the bus in the bus stop along with bus name by filling the Google Form. Thanks for Improving the websiteâ€‹!! :-)</p>
        <a href="https://docs.google.com/forms/d/e/1FAIpQLSdXgR5Ldc5JT5jSzzTq4zfGKc040KRl9FdC8pszqxvaOoY0OA/viewform" class="u-active-none u-btn u-button-style u-hover-feature u-hover-none u-none u-text-hover-palette-2-base u-btn-1" target="_blank" data-animation-name="" data-animation-duration="0" data-animation-direction="">Submit&nbsp;<span class="u-file-icon u-icon u-text-white u-icon-1"><img src="images/7078851-7a5c9c01.png" alt=""></span>
        </a>
      </div>
      
    </section>
    <section class="skrollable u-clearfix u-image u-parallax u-shading u-section-3" id="sec-a140" data-image-width="1280" data-image-height="853">
      <div class="u-clearfix u-sheet u-sheet-1">
        <img class="u-image u-image-round u-radius-10 u-image-1" src="images/panda.gif" alt="" data-image-width="480" data-image-height="272">
        <ul class="u-custom-font u-custom-list u-font-courier-new u-text u-text-1" data-animation-name="" data-animation-duration="0" data-animation-direction="">
          <li>
            <div class="u-list-icon">
              <svg class="u-svg-content" viewBox="0 0 55 55" x="0px" y="0px" id="svg-e16e" style="enable-background:new 0 0 55 55;"><path d="M55,27.5C55,12.337,42.663,0,27.5,0S0,12.337,0,27.5c0,8.009,3.444,15.228,8.926,20.258l-0.026,0.023l0.892,0.752
	c0.058,0.049,0.121,0.089,0.179,0.137c0.474,0.393,0.965,0.766,1.465,1.127c0.162,0.117,0.324,0.234,0.489,0.348
	c0.534,0.368,1.082,0.717,1.642,1.048c0.122,0.072,0.245,0.142,0.368,0.212c0.613,0.349,1.239,0.678,1.88,0.98
	c0.047,0.022,0.095,0.042,0.142,0.064c2.089,0.971,4.319,1.684,6.651,2.105c0.061,0.011,0.122,0.022,0.184,0.033
	c0.724,0.125,1.456,0.225,2.197,0.292c0.09,0.008,0.18,0.013,0.271,0.021C25.998,54.961,26.744,55,27.5,55
	c0.749,0,1.488-0.039,2.222-0.098c0.093-0.008,0.186-0.013,0.279-0.021c0.735-0.067,1.461-0.164,2.178-0.287
	c0.062-0.011,0.125-0.022,0.187-0.034c2.297-0.412,4.495-1.109,6.557-2.055c0.076-0.035,0.153-0.068,0.229-0.104
	c0.617-0.29,1.22-0.603,1.811-0.936c0.147-0.083,0.293-0.167,0.439-0.253c0.538-0.317,1.067-0.648,1.581-1
	c0.185-0.126,0.366-0.259,0.549-0.391c0.439-0.316,0.87-0.642,1.289-0.983c0.093-0.075,0.193-0.14,0.284-0.217l0.915-0.764
	l-0.027-0.023C51.523,42.802,55,35.55,55,27.5z M2,27.5C2,13.439,13.439,2,27.5,2S53,13.439,53,27.5
	c0,7.577-3.325,14.389-8.589,19.063c-0.294-0.203-0.59-0.385-0.893-0.537l-8.467-4.233c-0.76-0.38-1.232-1.144-1.232-1.993v-2.957
	c0.196-0.242,0.403-0.516,0.617-0.817c1.096-1.548,1.975-3.27,2.616-5.123c1.267-0.602,2.085-1.864,2.085-3.289v-3.545
	c0-0.867-0.318-1.708-0.887-2.369v-4.667c0.052-0.52,0.236-3.448-1.883-5.864C34.524,9.065,31.541,8,27.5,8
	s-7.024,1.065-8.867,3.168c-2.119,2.416-1.935,5.346-1.883,5.864v4.667c-0.568,0.661-0.887,1.502-0.887,2.369v3.545
	c0,1.101,0.494,2.128,1.34,2.821c0.81,3.173,2.477,5.575,3.093,6.389v2.894c0,0.816-0.445,1.566-1.162,1.958l-7.907,4.313
	c-0.252,0.137-0.502,0.297-0.752,0.476C5.276,41.792,2,35.022,2,27.5z"></path></svg>
            </div>Elongated Muskcat
          </li>
          <li>

        </ul>
        <h6 class="u-align-center-xs u-custom-font u-font-courier-new u-text u-text-2">Contributors<span style="font-weight: 700;">
            <span style="font-weight: 400;"></span>
          </span>
        </h6>
      </div>
    </section>
    
    
    <footer class="u-align-center u-clearfix u-footer u-grey-80 u-footer" id="sec-8c42"><div class="u-clearfix u-sheet u-sheet-1">
        <p class="u-small-text u-text u-text-variant u-text-1">Designed by Anuj Pai</p>
      </div></footer>
      <script>
        // array of bus information
        var buses = [{name: "Ayra", hour: 8, minute: 13},
            {name: "Sahil", hour: 8, minute: 19},
            {name: "Christa Jyothi", hour: 9, minute: 54},
            {name: "Decent", hour: 9, minute: 59},
            {name: "Christa Jyothi", hour: 10, minute: 23},
            {name: "Sangam", hour: 10, minute: 36},
            {name: "Naveen", hour: 11, minute: 26},
            {name: "Naveen", hour: 11, minute: 28},
            {name: "Naveen", hour: 11, minute: 33},
            {name: "Rashmi Travels", hour: 11, minute: 44},
            {name: "Naveen", hour: 12, minute: 18},
            {name: "Shree Padma", hour: 12, minute: 38},
            {name: "Shahil", hour: 12, minute: 52},
            {name: "Kanthi", hour: 13, minute: 30},
            {name: "Kanthi", hour: 13, minute: 43},
            {name: "Bharathi", hour: 13, minute: 51},
            {name: "Sangam", hour: 14, minute: 6},
            {name: "Christa Jyothi", hour: 15, minute: 12},
            {name: "Naveen", hour: 15, minute: 45},
            {name: "Naveen", hour: 16, minute: 25},
            {name: "Shree Padma", hour: 16, minute: 49},
            {name: "Shree Padma", hour: 17, minute: 21}
          ];
   
          setInterval(function() {
  var currentTime = new Date();
  var hours = currentTime.getHours();
  var minutes = currentTime.getMinutes();
  var seconds = currentTime.getSeconds();

  if (hours > 12) {
    hours = hours - 12;
  }
  if (hours === 0) {
    hours = 12;
  }

  if (minutes < 10) {
    minutes = "0" + minutes;
  }
  if (seconds < 10) {
    seconds = "0" + seconds;
  }

  var currentTimeString = hours + ":" + minutes + ":" + seconds;

  document.getElementById("time").innerHTML ="Time: " + currentTimeString;
}, 1000);
    // get current time
    var currentTime = new Date();
    var currentHour = currentTime.getHours();
    var currentMinute = currentTime.getMinutes();
    
    // find the next bus and the previous bus
    var nextBusIndex = -1;
    var prevBusIndex = -1;
    for (var i = 0; i < buses.length; i++) {
      if (buses[i].hour > currentHour || (buses[i].hour == currentHour && buses[i].minute > currentMinute)) {
          nextBusIndex = i;
          break;
      }
    }
    for (var i = buses.length - 1; i >= 0; i--) {
      if (buses[i].hour < currentHour || (buses[i].hour == currentHour && buses[i].minute <= currentMinute)) {
          prevBusIndex = i;
          break;
      }
    }
    
    // calculate time left for next bus
    var timeLeft = -1;
    if (nextBusIndex != -1) {
      var nextBusHour = buses[nextBusIndex].hour;
      var nextBusMinute = buses[nextBusIndex].minute;
      if (nextBusHour > currentHour) {
          timeLeft = (nextBusHour - currentHour) * 60 + (nextBusMinute - currentMinute);
      }
      else if (nextBusHour == currentHour) {
          timeLeft = nextBusMinute - currentMinute;
      }
    }
    
   // calculate time since previous bus
   var timeSince = -1;
    var timeSinceHour = 0;
    var timeSinceMinute = 0;
        if (prevBusIndex != -1) {
            var prevBusHour = buses[prevBusIndex].hour;
            var prevBusMinute = buses[prevBusIndex].minute;
            if (prevBusHour < currentHour) {
                timeSince = (currentHour - prevBusHour) * 60 + (currentMinute - prevBusMinute);
                timeSinceHour = Math.floor(timeSince / 60);
                timeSinceMinute = timeSince % 60;
            }
            else if (prevBusHour == currentHour) {
                timeSince = currentMinute - prevBusMinute;
                timeSinceMinute = timeSince;
            }
            if(timeSince >= 59){
                timeSince = timeSinceHour + " hour " + timeSinceMinute + "";
            }else{
                timeSince = timeSince + " mins ago";
            }
        }

 // display time left for next bus
    if (nextBusIndex != -1) {
    if (timeLeft <= 3) {
        document.getElementById("next-bus").innerHTML = "Next Bus: " + buses[nextBusIndex].name + " is Arriving Now";
    } else {
        document.getElementById("next-bus").innerHTML = "Next Bus: " + buses[nextBusIndex].name + " in " + timeLeft + " mins";
    }
} else {
    document.getElementById("next-bus").innerHTML = "Next Bus: Not Available";
}
    
    // display time since previous bus
    if (prevBusIndex != -1) {
    if (timeSince <= 3) {
        document.getElementById("prev-bus").innerHTML = "Previous Bus: " + buses[prevBusIndex].name + " Arrived Recently";
    } else {
        document.getElementById("prev-bus").innerHTML = "Previous Bus: " + buses[prevBusIndex].name + " had left " + timeSince + " mins ago";
    }
} else {
    document.getElementById("prev-bus").innerHTML = "Previous Bus: Not Available";
}
function refreshPage(){
        location.reload();
    }
    setTimeout(refreshPage, 58000);
    </script>
  
</body></html>
